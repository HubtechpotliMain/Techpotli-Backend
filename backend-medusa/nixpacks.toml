providers = ["node"]

# Railway/Nixpacks already runs an "install" phase and a "build" phase.
# Don't run `npm ci` twice (it can easily exceed build time limits).

[phases.install]
cmds = ["npm ci --no-audit --no-fund"]

[phases.build]
cmds = ["npm run build"]

# Use start script that sets HOST=0.0.0.0 so Railway healthcheck can reach the app
[start]
cmd = "node scripts/railway-start.js"

